{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "properties": {
    "JwtAuth": {
      "$ref": "#/definitions/JwtAuth"
    },
    "AppConfig": {
      "$ref": "#/definitions/AppConfig"
    },
    "ClientConfig": {
      "$ref": "#/definitions/ClientConfig"
    },
    "Cors": {
      "$ref": "#/definitions/Cors"
    },
    "CertManager": {
      "$ref": "#/definitions/CertManager"
    },
    "Hue": {
      "$ref": "#/definitions/Hue"
    },
    "Mfi": {
      "$ref": "#/definitions/Mfi"
    },
    "ZWave": {
      "$ref": "#/definitions/ZWave"
    },
    "ColorTouch": {
      "$ref": "#/definitions/ColorTouch"
    },
    "HomeClient": {
      "$ref": "#/definitions/HomeClient"
    }
  },
  "definitions": {
    "JwtAuth": {
      "title": "IdServerAuthAppOptions",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Authority": {
          "type": [
            "null",
            "string"
          ],
          "description": "The authority to use. Should be the url of the id server."
        },
        "ClientId": {
          "type": [
            "null",
            "string"
          ],
          "description": "The client id to use."
        },
        "Scope": {
          "type": [
            "null",
            "string"
          ],
          "description": "The primary scope for this app."
        },
        "DisplayName": {
          "type": [
            "null",
            "string"
          ],
          "description": "The display name for this application, will be used for the id server metadata."
        },
        "AdditionalScopes": {
          "type": [
            "array",
            "null"
          ],
          "description": "Any additional scopes that this app should request for user tokens. This will allow\nthose user tokens to be flowed to those additional apps.",
          "items": {
            "type": "string"
          }
        },
        "ClientCredentialsScopes": {
          "type": [
            "array",
            "null"
          ],
          "description": "Any scopes that will be used in the client credentials version of the client metadata.\nThe client credentials are how this applicaiton can log into other services to get their\ndata. Those services should be listed here so they are included in the application's jwt\nthat id server creates. This is used when the applicaiton needs to login to a service directly\nand cannot just send the user's token along.",
          "items": {
            "type": "string"
          }
        },
        "ClientSecret": {
          "type": [
            "null",
            "string"
          ],
          "description": "The client secret for this app. This can be null to have no secret. It defaults to\n\"notyetdefined\". Ideally this should be set to something."
        }
      }
    },
    "AppConfig": {
      "title": "AppConfig",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "BaseUrl": {
          "type": [
            "null",
            "string"
          ]
        },
        "ConnectionString": {
          "type": [
            "null",
            "string"
          ]
        },
        "DetailedErrors": {
          "type": "boolean"
        },
        "PathBase": {
          "type": [
            "null",
            "string"
          ]
        },
        "AllowApiExplorer": {
          "type": "boolean"
        },
        "UseAssetBundles": {
          "type": "boolean"
        },
        "EnableValueProviders": {
          "type": "boolean"
        }
      }
    },
    "ClientConfig": {
      "title": "ClientConfig",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "ServiceUrl": {
          "type": [
            "null",
            "string"
          ]
        },
        "UserDirectoryUrl": {
          "type": [
            "null",
            "string"
          ]
        }
      }
    },
    "Cors": {
      "title": "CorsManagerOptions",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "UnlimitedAccess": {
          "type": "boolean"
        },
        "AllowedOrigins": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          }
        }
      }
    },
    "CertManager": {
      "title": "CertManagerOptions",
      "type": "object",
      "description": "Options for the system certficiate manager.",
      "additionalProperties": false,
      "properties": {
        "LoadCerts": {
          "type": "boolean",
          "description": "Set this to true (default) to load the certificates using Process.Start with FileName."
        },
        "FileName": {
          "type": [
            "null",
            "string"
          ],
          "description": "The file name of the process to load to update certificates."
        }
      }
    },
    "Hue": {
      "title": "HueConfig",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "BaseUrl": {
          "type": [
            "null",
            "string"
          ]
        },
        "Clients": {
          "type": [
            "null",
            "object"
          ],
          "additionalProperties": {
            "$ref": "#/definitions/Hue/definitions/HueClientConfig"
          }
        }
      },
      "definitions": {
        "HueClientConfig": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "HostIp": {
              "type": [
                "null",
                "string"
              ]
            },
            "AppKey": {
              "type": [
                "null",
                "string"
              ]
            }
          }
        }
      }
    },
    "Mfi": {
      "title": "MfiConfig",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Clients": {
          "type": [
            "null",
            "object"
          ],
          "additionalProperties": {
            "$ref": "#/definitions/Mfi/definitions/PowerStripConfig"
          }
        }
      },
      "definitions": {
        "PowerStripConfig": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "Host": {
              "type": [
                "null",
                "string"
              ]
            },
            "User": {
              "type": [
                "null",
                "string"
              ]
            },
            "Pass": {
              "type": [
                "null",
                "string"
              ]
            },
            "RelayCount": {
              "type": "integer",
              "format": "int32"
            }
          }
        }
      }
    },
    "ZWave": {
      "title": "ZWaveConfig",
      "type": "object",
      "description": "Configuration for zwave api.",
      "additionalProperties": false,
      "properties": {
        "ComPort": {
          "type": [
            "null",
            "string"
          ],
          "description": "The com port of your z-wave device."
        },
        "Enabled": {
          "type": "boolean",
          "description": "Set to true (default) to enable the z wave device"
        }
      }
    },
    "ColorTouch": {
      "title": "ColorTouchConfig",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Clients": {
          "type": [
            "null",
            "object"
          ],
          "additionalProperties": {
            "$ref": "#/definitions/ColorTouch/definitions/ColorTouchClientConfig"
          }
        },
        "Enabled": {
          "type": "boolean"
        }
      },
      "definitions": {
        "ColorTouchClientConfig": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "Host": {
              "type": [
                "null",
                "string"
              ]
            }
          }
        }
      }
    },
    "HomeClient": {
      "title": "HomeClientOptions",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Clients": {
          "type": [
            "null",
            "object"
          ],
          "additionalProperties": {
            "$ref": "#/definitions/HomeClient/definitions/HomeClientConfig"
          }
        }
      },
      "definitions": {
        "HomeClientConfig": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "ServiceUrl": {
              "type": [
                "null",
                "string"
              ]
            },
            "ClientCredentials": {
              "oneOf": [
                {
                  "type": "null"
                },
                {
                  "$ref": "#/definitions/HomeClient/definitions/ClientCredentailsAccessTokenFactoryOptions"
                }
              ]
            }
          }
        },
        "ClientCredentailsAccessTokenFactoryOptions": {
          "type": "object",
          "description": "Options for the ClientCredentialsAccessTokenFactory",
          "additionalProperties": false,
          "properties": {
            "IdServerHost": {
              "type": [
                "null",
                "string"
              ],
              "description": "The host for the identity server providing tokens."
            },
            "ClientId": {
              "type": [
                "null",
                "string"
              ],
              "description": "The client id to login with."
            },
            "ClientSecret": {
              "type": [
                "null",
                "string"
              ],
              "description": "The secret for the client id."
            },
            "Scope": {
              "type": [
                "null",
                "string"
              ],
              "description": "The scope that will be accessed."
            },
            "ExpirationTimeFraction": {
              "type": "number",
              "description": "This represents the fraction of the total lifetime of the access token to keep using it until\nit should be refreshed. It should be between 0 and 1, the default is 0.8 (use token for 80% of the total time, then refresh)",
              "format": "double"
            }
          }
        }
      }
    }
  }
}